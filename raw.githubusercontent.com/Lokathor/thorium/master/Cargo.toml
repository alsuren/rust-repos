[package]
name = "thorium"
description = "Lokathor does stuff, ium"
version = "0.4.1-alpha.0"
authors = ["Lokathor <zefria@gmail.com>"]
repository = "https://github.com/Lokathor/thorium"
readme = "README.md"
keywords = ["lokathor"]
edition = "2018"
license = "Zlib"
autobins = false

[dependencies]
beryllium = "0.0.11"
gba-proc-macro = "0.5"

[profile.dev]
opt-level = 3
panic = "abort"

[profile.release]
panic = "abort"
lto = true
codegen-units = 1

[features]
default = ["hotloading", "avoid_std"] # these are on by default for easy dev purposes
dynamic_link = []
hotloading = ["dynamic_link"]
sdl2_alloc = [] # NIGHTLY
avoid_std = ["sdl2_alloc"] # NIGHTLY (transitive)
just_a_no_std_lib = ["avoid_std"] # BROKEN. TODO: fix link errors so this at least work on linux
beryllium_dynamic = ["beryllium/dynamic_link"]

[lib]
name = "thorium"
crate-type = ["rlib", "cdylib"]

[[bin]]
name = "thorium"
path = "src/bin/main.rs"

[badges]
appveyor = { repository = "Lokathor/thorium" }
travis-ci = { repository = "Lokathor/thorium" }

# This forces docs.rs to build us on windows, which has the simplest build for
# docs.rs to perform.
[package.metadata.docs.rs]
default-target = "x86_64-pc-windows-msvc"
